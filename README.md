# Flask Automotive Sales Website

Это полностью функциональный сайт автосалона на Python Flask, который заменил исходный PHP код.

## Требования

- Python 3.7+
- Flask
- sqlite3 (встроена в Python)

## Установка и запуск

### 1. Установка зависимостей

```bash
pip install flask
```

### 2. Запуск приложения

```bash
python app.py
```
 
CI integration
--------------
This repository includes a GitHub Actions workflow to build the database and export prebuilt artifacts. See `README_SETUP.md` for instructions how to enable it and push changes.

Приложение запустится на `http://localhost:5000`

## Функциональность

### Главная страница (/)
- Представление сайта с информацией об услугах
- Форма контактов
- Ссылки на каталог и автосалоны
- Проверка статуса входа

### Аутентификация
- **Регистрация** (/register): 
  - Валидация логина (7-26 символов, с заглавной буквой, только английские буквы)
  - Проверка пароля (минимум 8 символов, совпадение)
  - Уникальность логина и email
  
- **Вход** (/login):
  - Проверка учетных данных
  - Сохранение сессии
  
- **Выход** (/logout):
  - Очистка сессии

### Каталог автомобилей (/catalog)
- Отображение всех доступных автомобилей
- Форма заказа для каждого автомобиля
- API эндпоинт для получения товаров (/api/products)

### Автосалоны (/showrooms)
- Информация о новинках
- Описание услуг
- Отзывы клиентов
- Контактная информация

### API Endpoints

- `GET /api/products` - Получить все автомобили
- `POST /api/order` - Создать заказ
- `POST /api/contact` - Отправить сообщение контакта

## База данных

Используется SQLite с автоматической инициализацией:

### Таблицы:
- **users**: логины, пароли, email пользователей
- **goods**: каталог автомобилей (название, цена, изображение)
- **orders**: заказы клиентов (ФИО, телефон, email, комментарий, ID товара)

База данных автоматически создается и заполняется примерами при первом запуске.

## Структура файлов

```
test/
├── app.py                 # Основное Flask приложение
├── data.db               # SQLite база данных (создается автоматически)
├── templates/            # HTML шаблоны
│   ├── index.html       # Главная страница
│   ├── login.html       # Страница входа
│   ├── register.html    # Страница регистрации
│   ├── catalog.html     # Каталог автомобилей
│   └── showrooms.html   # Страница автосалонов
├── static/              # Статические файлы (CSS, JS, изображения)
│   ├── css/
│   ├── img/
│   ├── js/
│   ├── carsell24x7-main/
│   └── HappyNewYearFinish-main/
├── css/                 # Оригинальные CSS файлы
├── img/                 # Оригинальные изображения
├── carsell24x7-main/    # Оригинальные файлы автосалонов
└── HappyNewYearFinish-main/ # Оригинальные файлы каталога
```

## Стили и дизайн

Все оригинальные CSS стили сохранены и используются из папок:
- `css/` - для главной страницы
- `carsell24x7-main/css/` - для страницы автосалонов
- `HappyNewYearFinish-main/static/css/` - для каталога

## Безопасность

⚠️ **Важно!** Для продакшена:
1. Измените `app.secret_key` на случайное значение
2. Добавьте шифрование паролей (используйте `werkzeug.security`)
3. Добавьте CSRF защиту
4. Используйте HTTPS

## Примеры данных

При первом запуске автоматически добавляются 7 автомобилей:
- Porsche 911 Carrera - 12,000,000 ₽
- Porsche Cayenne - 8,000,000 ₽
- BMW X5 - 7,000,000 ₽
- BMW 3 Series - 4,500,000 ₽
- Mercedes-Benz S-Class - 10,000,000 ₽
- Mercedes-Benz C-Class - 5,500,000 ₽
- Mercedes-Benz GLE - 7,500,000 ₽

## Решение проблем

### Портал не открывается
- Убедитесь, что Flask установлен: `pip install flask`
- Проверьте, что порт 5000 не занят
- Посмотрите ошибки в консоли

### Изображения не загружаются
- Убедитесь, что папки `img/`, `carsell24x7-main/`, `HappyNewYearFinish-main/` находятся в корне проекта
- Проверьте пути к изображениям в шаблонах

### Ошибка базы данных
- Удалите файл `data.db` и перезапустите приложение
- База данных будет пересоздана с примерами

## Лицензия

Использованы оригинальные файлы проекта. Flask приложение создано как замена PHP.
